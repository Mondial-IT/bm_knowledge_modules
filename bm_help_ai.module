<?php

declare(strict_types=1);

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function bm_help_ai_help(string $route_name, RouteMatchInterface $route_match): string|null {
  if ($route_name === 'help.page.bm_help_ai') {
    return '<p>' . t('Provides an aggregated admin help surface with optional AI relevance scaffolding at <em>/admin/help/ai</em>. The module lists help topics, module overviews, and a placeholder AI section without calling external services.') . '</p>';
  }

  if ($route_name === 'bm_help_ai.help_ai') {
    return '<p>' . t('This page aggregates Drupal help sources, highlights module overviews, and prepares a space for future AI-assisted relevance while keeping canonical help authoritative.') . '</p>';
  }

  return null;
}

/**
 * Implements hook_help_topics_info_alter().
 */
function bm_help_ai_help_topics_info_alter(array &$info): void {
  // Flag bm_help_ai.overview as suitable for the module overview section.
  if (isset($info['bm_help_ai.overview'])) {
    $info['bm_help_ai.overview']['bm_help_ai_overview'] = TRUE;
  }
}
